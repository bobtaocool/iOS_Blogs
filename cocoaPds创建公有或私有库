#åˆ›å»ºå…¬æœ‰podåº“

 ## 1.æ³¨å†Œ**CocoaPods**è´¦æˆ·ä¿¡æ¯
æƒ³è¦åˆ›å»ºä¸€ä¸ªå¼€æºpodåº“, é¦–å…ˆæˆ‘ä»¬éœ€è¦æ³¨å†ŒCocoaPodsï¼Œ[å®˜æ–¹é“¾æ¥](https://guides.cocoapods.org/making/getting-setup-with-trunk.html)ã€‚
```
1	pod trunk register é‚®ç®±åœ°å€ 'ç”¨æˆ·å' â€‘â€‘verbose
2	pod trunk register xxx.com 'Bobtao' â€‘â€‘verbose

```

è¿™é‡Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨ github é‚®ç®±å’Œç”¨æˆ·å, ç„¶ååœ¨ä½ çš„é‚®ç®±ä¸­ä¼šæ”¶åˆ°ç¡®è®¤é‚®ä»¶, åœ¨æµè§ˆ	ä¸­ç‚¹å‡»é“¾æ¥ç¡®è®¤å³æ³¨å†ŒæˆåŠŸ,

æˆåŠŸä¹‹åå¯ä»¥ç»ˆç«¯æ‰§è¡Œ:
```
pod trunk me
```

## 2.åˆ›å»ºPodé¡¹ç›®å·¥ç¨‹

å…±äº«åº“éœ€è¦ä¸‰ä¸ªå¿…ä¸å¯å°‘çš„éƒ¨åˆ†:

å…±äº«åº“éœ€è¦ä¸‰ä¸ªå¿…ä¸å¯å°‘çš„éƒ¨åˆ†:

A. å…±äº«æ–‡ä»¶å¤¹ (æ–‡ä»¶å¤¹å­˜æ”¾ç€ä½ è¦å…±äº«çš„å†…å®¹, ä¹Ÿå°±æ˜¯å…¶ä»–äººpodå¾—åˆ°çš„æ–‡ä»¶, .podspecæ–‡ä»¶ä¸­çš„source_fileséœ€è¦
æŒ‡å®šæ­¤æ–‡ä»¶è·¯å¾„åŠæ–‡ä»¶ç±»å‹);

B.LICENSEæ–‡ä»¶ (é»˜è®¤ä¸€èˆ¬é€‰æ‹©MIT);

C.åº“æè¿°æ–‡ä»¶.podspec (æœ¬åº“çš„å„é¡¹ä¿¡æ¯æè¿°, éœ€è¦æäº¤ç»™CocoaPods, podé€šè¿‡è¿™ä¸ªæ–‡ä»¶æŸ¥æ‰¾åˆ°ä½ å…±äº«çš„åº“,

.podspecæ–‡ä»¶çš„æ ¼å¼è§ç¬¬).

è¿™ä¸€æ­¥æœ‰ä¸¤ç§æ–¹å¼:

A.å¦‚æœä½ å·²ç»æœ‰äº†ç°æˆçš„æƒ³è¦å…±äº«çš„æ–‡ä»¶,ç”¨ç»ˆç«¯å‘½ä»¤ç”Ÿæˆ podspec åº“æè¿°æ–‡ä»¶ï¼Œå¼€æºè¯ä¹¦
```
pod spec create TBFontAdjust

```
B.ä½ æƒ³è¦åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„å¸¦æ¼”ç¤ºDemoçš„å·¥ç¨‹å»åšè‡ªå·±çš„å…±äº«, å¯ä»¥ä½¿ç”¨ç»ˆç«¯å‘½ä»¤:
```
pod lib create TBFontAdjust	//è¿™ä¸ªä¼šè‡ªåŠ¨å¸®ä½ ç”Ÿæˆdemoå·¥ç¨‹ä»¥åŠpodspecæè¿°æ–‡ä»¶å¼€æºè¯ä¹¦

```
ä¸¾ä¾‹:
1.cdè¿›å…¥è¦åˆ›å»ºé¡¹ç›®çš„ç›®å½•ç„¶å æ‰§è¡Œä»¥ä¸‹å‘½ä»¤

```

#pod lib create [é¡¹ç›®å]

$pod lib create TBFontAdjust

```

æ¥ç€åœ¨Terminalæ§åˆ¶å°ä¼šè¾“å‡º5ä¸ªé—®é¢˜ï¼š

1.What language do you want to use?? [ Swift / ObjC ]
 > ObjC

 ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯é—®ä½ é€‰æ‹©Swiftè¿˜æ˜¯Objcæ„å»ºé¡¹ç›®ã€‚æ­¤æ•™ç¨‹ é€‰çš„æ˜¯ObjC

2.Would you like to include a demo application with your library? [ Yes / No ]
 > Yes

 ç¬¬äºŒä¸ªé—®é¢˜é—®ä½ æ˜¯å¦éœ€è¦åˆ›å»ºä¸€ä¸ªDemoé¡¹ç›®ï¼Œæ­¤æ•™ç¨‹é€‰çš„æ˜¯Yes

 3.Which testing frameworks will you use? [ Specta / Kiwi / None ]
 > None

 ç¬¬ä¸‰ä¸ªé—®é¢˜è®©ä½ æ˜¯å¦é€‰æ‹©ä¸€ä¸ªæµ‹è¯•æ¡†æ¶ï¼Œæ­¤æ•™ç¨‹é€‰ None

 4.Would you like to do view based testing? [ Yes / No ]
  > Yes

5.What is your class prefix?
 > tdb

 å¡«å†™å®Œæˆåï¼Œä¼šè‡ªåŠ¨æ‰“å¼€å·¥ç¨‹ã€‚

 ## 2.é…ç½®podå·¥ç¨‹

2.é…ç½®
```
Pod::Spec.new do |s|
  s.name             = 'TBFontAdjust'//é¡¹ç›®å
  s.version          = '0.1.0'//ç‰ˆæœ¬
  s.summary          = 'iOS adjust test'//ç®€ä»‹

# This description is used to generate tags and improve search results.
#   * Think: What does it do? Why did you write it? What is the focus?
#   * Try to keep it short, snappy and to the point.
#   * Write the description between the DESC delimiters below.
#   * Finally, don't worry about the indent, CocoaPods strips it!
//æè¿°
  s.description      = <<-DESC
æµ‹è¯•
                       DESC

  s.homepage         = 'https://github.com/bobtaocool/TBFontAdjust'
  # s.screenshots     = 'www.example.com/screenshots_1', 'www.example.com/screenshots_2'
  #å¼€æºåè®®
  s.license          = { :type => 'MIT', :file => 'LICENSE' }
   #ä½œè€…
  s.author           = { 'TDB' => '1639008265@qq.com' }
  #æºä»£ç çš„é“¾æ¥åœ°å€
  s.source           = { :git => 'https://github.com/bobtaocool/TBFontAdjust.git', :tag => s.version.to_s }
  # s.social_media_url = 'https://twitter.com/<TWITTER_USERNAME>'

   #æ”¯æŒçš„å¹³å°åŠç‰ˆæœ¬
  s.ios.deployment_target = '8.0'

 #èµ„æºæ–‡ä»¶åœ°å€ï¼ˆæŠŠä½ çš„åº“ä»£ç æ”¾åœ¨è¿™ä¸ªClassesï¼‰
  s.source_files = 'TBFontAdjust/Classes/**/*'

  # s.resource_bundles = {
  #   'TBFontAdjust' => ['TBFontAdjust/Assets/*.png']
  # }

#å…¬å¼€å¤´æ–‡ä»¶åœ°å€
  # s.public_header_files = 'Pod/Classes/**/*.h'
#æ‰€éœ€çš„frameworkï¼Œå¤šä¸ªç”¨é€—å·éš”å¼€
  # s.frameworks = 'UIKit', 'MapKit'
#ä¾èµ–å…³ç³»ï¼Œè¯¥é¡¹ç›®æ‰€ä¾èµ–çš„å…¶ä»–åº“ï¼Œå¦‚æœæœ‰å¤šä¸ªéœ€è¦å¡«å†™å¤šä¸ªs.dependency
  # s.dependency 'AFNetworking', '~> 2.3'
end

```

é…ç½®å®Œæˆå¯ä»¥è¿›è¡ŒéªŒè¯

>pod lib lint

å¦‚å‡ºç°è­¦å‘Šï¼šå¯ä»¥
>podspec --use-libraries --allow-warnings

å¦‚æœå‡ºç°passed validationè¯´æ˜é…ç½®æ²¡é—®é¢˜

é…ç½®å¥½åï¼Œsourectree æäº¤,æ¨é€åˆ°è¿œç¨‹ã€‚

3.æœ¬åœ°æµ‹è¯•
æ‰“å¼€Exampleå·¥ç¨‹ç›®å½•Podfileæ–‡ä»¶ä¿®æ”¹ä¸‹pod çš„å¼•ç”¨

```
 #pod 'MyLib', :path => '../' # æŒ‡å®šè·¯å¾„
 pod 'TBFontAdjust', :podspec => '../TBFontAdjust.podspec'

```
 ç„¶ååœ¨Exampleå·¥ç¨‹ç›®å½•ä¸‹æ‰§è¡Œpod updateå‘½ä»¤
 æ‰“å¼€é¡¹ç›®å·¥ç¨‹ï¼Œç°åœ¨å¯ä»¥çœ‹åˆ°åº“æ–‡ä»¶éƒ½è¢«åŠ è½½åˆ°Podså­é¡¹ç›®ä¸­äº†.


4.æ¨é€åˆ°è¿œç¨‹ä»“åº“
æäº¤ä»£ç åˆ°è¿œç¨‹ä»“åº“
```
git add .
git commit â€m â€œxxxâ€
git remote add origin è¿œç¨‹ä»“åº“ä»£ç åœ°å€
git push origin master
```
ç»™ä»“åº“æ‰“æ ‡ç­¾
```
git tag â€a 1.0.0 â€m â€œ1.0.0 releaseâ€ (è¿™é‡Œçš„ç‰ˆæœ¬å·ä¸podspecé‡Œä¸€è‡´)
git tag //æŸ¥çœ‹æ ‡ç­¾æ˜¯å¦æˆåŠŸ
git push origin â€â€tags
```

## 2.åˆ›å»ºç§æœ‰çš„ä»“åº“(Spec Repo)

æ‰§è¡Œä»¥ä¸‹å‘½ä»¤:(åº“åï¼Œåœ°å€éœ€å’Œé…ç½®æ–‡ä»¶å¡«å†™ä¸€æ ·)
>pod repo add åº“å åœ°å€

#### TBFontAdjust.podspecæäº¤åˆ°è¿œç¨‹Spec Repoä»“åº“ä¸­

cdè¿›å…¥TBFontAdjusté¡¹ç›®æ ¹ç›®å½•

```
# pod repo push [Repoå] [podspec æ–‡ä»¶åå­—]
$ pod repo push TBFontAdjust TBFontAdjust.podspec

```

å¦‚æœæäº¤æˆåŠŸå¯ä»¥åœ¨~/.cocoapods/repos/MySpecsç›®å½•ä¸‹æŸ¥çœ‹

#### ä¸Šä¼ é¡¹ç›®åˆ°Cocoapodså®˜æ–¹çš„ä»“åº“é‡Œå»

```
pod trunk push TBFontAdjust.podspec
æˆ–è€…
pod trunk push TBFontAdjust.podspec â€â€allowâ€warnings

```

```
Updating spec repo `master`
Validating podspec
 -> TBFontAdjust (0.1.0)

Updating spec repo `master`

--------------------------------------------------------------------------------
 ğŸ‰  Congrats

 ğŸš€  TBFontAdjust (0.1.0) successfully published
 ğŸ“…  October 21st, 08:47
 ğŸŒ  https://cocoapods.org/pods/TBFontAdjust
 ğŸ‘  Tell your friends!
--------------------------------------------------------------------------------
bogon:TBFontAdjust bob$

```
è¯´æ˜æäº¤æˆåŠŸäº†.

## 3.æŸ¥çœ‹æ“ä½œæ˜¯å¦æˆåŠŸ

pod search TBFontAdjust

æœ‰æ—¶å€™ä¼šé‡åˆ°æœç´¢ä¸åˆ°çš„æƒ…å†µ:
æ‰§è¡Œ pod install

## æ›´æ–°è¿­ä»£
1.æ›´æ–°æºä»£ç ç‰ˆæœ¬å·ï¼ˆå¦‚ï¼š1.1.1->1.1.2ï¼‰ã€‚
2.é‡æ–°push version tagã€‚
3.ç„¶åå†æ‰§è¡Œpod trunk pushæ“ä½œã€‚

# gitlab åˆ›å»ºç§æœ‰podåº“

åˆ›å»ºå…¬æœ‰Podåº“æˆ–è€…ç§æœ‰Podåº“, å®é™…ä¸ŠåŸï§¤æ˜¯ä¸€æ ·çš„, éƒ½æ˜¯åŸºäºgitæœåŠ¡å’Œrepoåè®®, ï¥§ä¸€æ ·çš„æ˜¯, ä¸¤è€…çš„ç‰ˆæœ¬ç´¢å¼•æŸ¥è¯¢æ–¹å¼ï¥§ä¸€æ ·, å…¬æœ‰åº“çš„podspecç”±CocoaPods/Specsç®¡ï§¤, è€Œå†…éƒ¨ç§æœ‰ä½¿ç”¨çš„podåº“éœ€è¦è‡ªå·±å»ºç«‹ä¸€ä¸ªä»“åº“æ¥ç®¡ç†

1ã€åˆ›å»ºç§æœ‰å†…éƒ¨ä»“åº“

1ã€åœ¨ç§æœ‰åº“gitlabä»“åº“åˆ›å»ºä¸€ä¸ªrepo ->YKSpecs å­˜æ”¾ç®¡ï§¤å†…éƒ¨ç§æœ‰ Spec ï¼ˆç±»ä¼¼å…¬æœ‰åº“çš„podspec

ç”±CocoaPods/Specsï¼‰

2ã€æŸ¥çœ‹æœ¬æœºç°æœ‰è¿œç¨‹ç´¢å¼•åº“




1	pod repo

2

3	//è‹¥æ²¡æ·»åŠ ç§æœ‰å†…éƒ¨åº“ï¼Œåªæœ‰ä¸€ä¸ª CocoaPods è¿œç¨‹ç´¢å¼•åº“ï¼Œä¹Ÿæ˜¯å®˜æ–¹çš„ç´¢å¼•åº“

4

5	master

6	â€‘ Type: git (master)

7	â€‘ URL:	https://github.com/CocoaPods/Specs.git

8	â€‘ Path: /Users/songhe/.cocoapods/repos/master




3ã€å°†ç§æœ‰åº“æ·»åŠ åˆ°æœ¬åœ°




1	pod repo add YKSpecs http://gitlab.yeahka.com/App/iOS/Modules/YKSpecs.git

2

3	æˆ–è€…é€šè¿‡SSH

4

5	pod repo add YKSpecs ssh://git@gitlab.yeahka.com:37600/App/iOS/Modules/YKSpecs.git

6

7

8	//æ·»åŠ æˆåŠŸåå†æ¬¡æŸ¥è¯¢å¯ä»¥çœ‹åˆ° YKSpecs è¡¨ç¤ºæ·»åŠ æˆåŠŸ

9	master

â€‘ Type: git (master)

â€‘ URL:  https://github.com/CocoaPods/Specs.git

â€‘ Path: /Users/songhe/.cocoapods/repos/master



YKSpecs

â€‘ Type: git (master)

â€‘ URL:  ssh://git@gitlab.yeahka.com:37600/App/iOS/Modules/YKSpecs.git

â€‘ Path: /Users/songhe/.cocoapods/repos/YKSpecs
